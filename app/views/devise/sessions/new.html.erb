<section id="admin-page" class="auth d-flex align-items-center">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 offset-lg-3 middle">
        <div id="login" class="align-items-center">
          <%= form_for(resource, as: resource_name, url: session_path(resource_name), html: { class: "needs-validation", novalidate: true }) do |f| %>
            <div class="input-group mb-3">
              <span class="input-group-text" id="basic-addon1">
                <i class="bi bi-envelope-at-fill"></i>
              </span>

              <%= f.email_field :email, autocomplete: "email", class: "form-control", placeholder: "E-mail", "aria-label": "E-mail", "aria-describedby": "basic-addon1", required: true %>

              <div class="invalid-feedback">Пожалуйста введите email</div>
              <div class="valid-feedback">Заполнено!</div>
            </div>

            <div class="input-group mb-3">
              <span class="input-group-text" id="basic-addon2">
                <i class="bi bi-shield-lock-fill"></i>
              </span>

              <%= f.password_field :password, class: "form-control", placeholder: "Пароль", "aria-label": "Пароль", "aria-describedby": "basic-addon2", required: true %>

              <div class="invalid-feedback">Пожалуйста введите пароль</div>
              <div class="valid-feedback">Заполнено!</div>
            </div>

            <div class="d-flex justify-content-between align-items-center mb-3">
              <div class="form-check">
                <%= f.check_box :remember_me, class: "form-check-input" %>
                <%= f.label :remember_me, class: "form-check-label" %>
              </div>

              <%= f.submit "Войти", class: "btn btn-success" %>
            </div>
          <% end %>
        </div>
        <div class="logo d-flex align-items-center">
          <%= image_tag "logo.png", alt: "РиелтСтройСфера" %>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  (() => {
    'use strict'
    const forms = document.querySelectorAll('.needs-validation')

    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }

        form.classList.add('was-validated')
      }, false)
    })
  })()
</script>
